<!DOCTYPE html>
updateLevelDisplay();
saveProgress();
}
}


function saveProgress() {
localStorage.setItem('vocabProgress', JSON.stringify({ words, level }));
}


function loadProgress() {
const saved = localStorage.getItem('vocabProgress');
if (saved) {
const data = JSON.parse(saved);
level = data.level || 1;
words.forEach((w, i) => {
if (data.words && data.words[i]) {
w.correctStreak = data.words[i].correctStreak || 0;
w.answeredCorrect = data.words[i].answeredCorrect || false;
}
});
}
}


function resetProgress() {
if (confirm('Are you sure you want to reset progress?')) {
localStorage.removeItem('vocabProgress');
words.forEach(w => { w.correctStreak = 0; w.answeredCorrect = false; });
level = 1;
updateLevelDisplay();
nextWord();
}
}


// Enter key behavior
document.getElementById('german').addEventListener('keydown', function(e) {
if (e.key === 'Enter') {
e.preventDefault();
document.getElementById('plural').focus();
}
});


let pluralEnterCount = 0;
document.getElementById('plural').addEventListener('keydown', function(e) {
if (e.key === 'Enter') {
e.preventDefault();
pluralEnterCount++;
if (pluralEnterCount === 1) {
checkAnswer();
} else if (pluralEnterCount === 2) {
pluralEnterCount = 0;
nextWord();
}
}
});


loadCSV();
</script>
</body>
</html>
